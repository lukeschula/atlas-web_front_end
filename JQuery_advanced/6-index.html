<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 6</title>
        <script src="https://code.jquery.com/jquery-3.7.1.slim.js" integrity="sha256-UgvvN8vBkgO0luPSUl2s8TIlOSYRoGFAX4jlCIm9Adc=" crossorigin="anonymous"></script>
        <script type="application/javascript">
          $(document).ready(() => {
            function createFamilyTree() {
              const table = $('<table></table>');
              const thead = $('<thead>\
                <tr></tr>\
                </thead>');
                const firstNameP = $('<th>Firstname</th>');
                const lastNameP = $('<th>Lastname</th>');
                thead.append(firstNameP, lastNameP);
                const tbody = $('<tbody></tbody>');
                table.append(thead, tbody);
              $('body').append(table);
            }
            function addNewMember(firstName, lastName, position) {
              const tbody = $('tbody');
                const newRow = $('<tr></tr>');
                const fstN = $(`<td>${firstName}</td>`);
                const lstN = $(`<td>${lastName}</td>`);
                const cross = $('<td>(x)</td>');
                cross.css('background-color', 'orange');
                cross.click(() => {
                  newRow.remove();
                })
                newRow.append(fstN, lstN, cross);
                if (position === 'before') {
                tbody.prepend(newRow);
                } else {
                  tbody.append(newRow);
                }
              }
              function createForm() {
                const form = $('<form></form>');
                const fstN = $('<input type="text" />');
                const lstN = $('<input type="text" />');
                const select = $('<select>\
                  <option value="before">Before</option>\
                  <option value="after">After</option>\
                  </select>');
                  const submitB = $('<input type="submit" value="submit"/>');
                  form.append(fstN, lstN, select, submitB);
                  $('body').prepend(form);
                  form.submit((event) => {
                    event.preventDefault();
                    const fN = fstN.val();
                    const lN = lstN.val();
                    const position = select.val();
                    addNewMember(fN, lN, position);
                  });
              }
            createFamilyTree();
            createForm();
          })
        </script>
    </head>

    <body>

    </body>

</html>